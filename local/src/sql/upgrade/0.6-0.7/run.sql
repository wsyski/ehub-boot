spool upgrade-0.6-0.7.log
set define off

PROMPT insert-into-release.sql
@@../../basic/insert-into-release.sql

WHENEVER SQLERROR EXIT FAILURE

alter table EHUB_LOAN add CONTENT_PROVIDER_RECORD_ID varchar2(255 char);

insert into CONTENT_PROVIDER_NAME(NAME) values('PUBLIT');
insert into CONTENT_PROVIDER_NAME(NAME) values('ASKEWS');
insert into CONTENT_PROVIDER_NAME(NAME) values('OVERDRIVE');

insert into CONTENT_PROVIDER(id, NAME, CREATE_DATETIME, MODIFY_DATETIME) VALUES(3, 'PUBLIT', systimestamp, systimestamp);
insert into CONTENT_PROVIDER(id, NAME, CREATE_DATETIME, MODIFY_DATETIME) VALUES(4, 'ASKEWS', systimestamp, systimestamp);
insert into CONTENT_PROVIDER(id, NAME, CREATE_DATETIME, MODIFY_DATETIME) VALUES(5, 'OVERDRIVE', systimestamp, systimestamp);

insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1101,'DOWNLOADABLE','E-bok', 3, 0, 0, systimestamp, systimestamp);

insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1201,'DOWNLOADABLE','Askews1', 4, 0, 0, systimestamp, systimestamp);

insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1301,'DOWNLOADABLE','ebook-kindle', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1302,'STREAMING','ebook-overdrive', 5, 600, 215, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1303,'DOWNLOADABLE','ebook-epub-adobe', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1304,'DOWNLOADABLE','ebook-epub-open', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1305,'DOWNLOADABLE','ebook-pdf-adobe', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1306,'DOWNLOADABLE','ebook-pdf-open', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1307,'STREAMING','ebook-disney', 5, 600, 215, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1308,'DOWNLOADABLE','audiobook-wma', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1309,'DOWNLOADABLE','audiobook-mp3', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1310,'DOWNLOADABLE','music-wma', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1311,'DOWNLOADABLE','video-wmv', 5, 0, 0, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_DECORATION (ID,CONTENT_DISPOSITION,FORMAT_ID,CONTENT_PROVIDER_ID,PLAYER_WIDTH,PLAYER_HEIGHT, CREATE_DATETIME, MODIFY_DATETIME) VALUES (1312,'DOWNLOADABLE','video-wmv-mobile', 5, 0, 0, systimestamp, systimestamp);

insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4101,'Nedladdningsbar E-bok','sv','E-bok', 1101, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4102,'Downloadable E-book','en','E-book', 1101, systimestamp, systimestamp);

insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4201,'Downloadable E-book','en','E-book', 1201, systimestamp, systimestamp);

insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4301,'Kindle Book','en','Kindle Book', 1301, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4302,'OverDrive Read eBook (browser-based)','en','OverDrive Read eBook', 1302, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4303,'DRM protected Adobe EPUB eBook','en','Adobe EPUB eBook', 1303, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4304,'DRM free Open EPUB eBook','en','Open EPUB eBook', 1304, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4305,'DRM protected Adobe PDF eBook','en','Adobe PDF eBook', 1305, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4306,'DRM free Open PDF eBook','en','Open PDF eBook', 1306, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4307,'Interactive Disney eBook (browser-based)','en','Interactive Disney eBook', 1307, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4308,'DRM protected WMA audiobook','en','WMA audiobook', 1308, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4309,'DRM free MP3 audiobook','en','MP3 audiobook', 1309, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4310,'DRM protected WMA music file','en','WMA music file', 1310, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4311,'DRM protected WMV video file','en','WMV video file', 1311, systimestamp, systimestamp);
insert into CONTENT_P_FORMAT_TEXT_BUNDLE (ID,DESCRIPTION,LANGUAGE,NAME,CONTENT_P_FORMAT_DECORATION_ID, CREATE_DATETIME, MODIFY_DATETIME) VALUES (4312,'DRM protected WMV mobile video file','en','WMV mobile video file', 1312, systimestamp, systimestamp);

insert into CONTENT_PROVIDER_PROPERTY_KEY(PROPERTY_KEY) VALUES('LOAN_EXPIRATION_DAYS');
insert into CONTENT_PROVIDER_PROPERTY_KEY(PROPERTY_KEY) VALUES('OAUTH_URL');
insert into CONTENT_PROVIDER_PROPERTY_KEY(PROPERTY_KEY) VALUES('OAUTH_PATRON_URL');
insert into CONTENT_PROVIDER_PROPERTY_KEY(PROPERTY_KEY) VALUES('API_BASE_URL');
insert into CONTENT_PROVIDER_PROPERTY_KEY(PROPERTY_KEY) VALUES('PATRON_API_BASE_URL');

insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('PUBLIT_USERNAME');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('PUBLIT_PASSWORD');

insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('ASKEWS_AUTH_ID');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('ASKEWS_TOKEN_KEY');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('ASKEWS_BARCODE');

insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('OVERDRIVE_CLIENT_KEY');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('OVERDRIVE_CLIENT_SECRET');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('OVERDRIVE_LIBRARY_ID');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('OVERDRIVE_ERROR_PAGE_URL');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('OVERDRIVE_READ_AUTH_URL');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('OVERDIRVE_WEBSITE_ID');
insert into CONTENT_P_CONSUMER_P_KEY(PROPERTY_KEY) VALUES('OVERDRIVE_ILS_NAME');

insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (3, 'PRODUCT_URL', 'http://beta.publit.se/');
insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (3, 'CREATE_LOAN_URL', 'http://beta.publit.se/');
insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (3, 'ORDER_LIST_URL', 'http://beta.publit.se/');
insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (3, 'LOAN_EXPIRATION_DAYS', '30');

insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (4, 'LOAN_EXPIRATION_DAYS', '30');

insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (5, 'OAUTH_URL', 'https://oauth.overdrive.com/token');
insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (5, 'OAUTH_PATRON_URL', 'https://oauth-patron.overdrive.com/patrontoken');
insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (5, 'API_BASE_URL', 'http://api.overdrive.com');
insert into CONTENT_PROVIDER_PROPERTY (CONTENT_PROVIDER_ID, PROPERTY_KEY, PROPERTY_VALUE) VALUES (5, 'PATRON_API_BASE_URL', 'http://patron.api.overdrive.com');

commit;

spool off